{"title":"Hexo 主题 Mustom 使用指南（对应主题 1.0 版）","slug":"Hexo主题Mustom使用指南","date":"2020-04-15","updated":"2020-04-15","comments":true,"path":"api/posts/49651.json","excerpt":"<ul><li>本主题 <a href=\"//github.com/jinyaoMa/hexo-theme-mustom\" target=\"_blank\" rel=\"noopener\">Mustom</a> 是我参考了卡片式和窗口展示的样式设计的 Hexo 主题。</li><li>本主题通过大量的 replaceWith 函数和 PJAX 来加载，而且用了 Live2D 的插件，初始加载时回流特别厉害。</li><li>本主题可以衍生一个 CSS 的框架，但是作者本人目前还是在给每个组件都弄一个单独的样式表。</li><li>本主题把各类资源文件都分门别类了，在以后添加内容方面应该还是较方便的。</li></ul>","cover":null,"covers":null,"content":"<ul><li>本主题 <a href=\"//github.com/jinyaoMa/hexo-theme-mustom\" target=\"_blank\" rel=\"noopener\">Mustom</a> 是我参考了卡片式和窗口展示的样式设计的 Hexo 主题。</li><li>本主题通过大量的 replaceWith 函数和 PJAX 来加载，而且用了 Live2D 的插件，初始加载时回流特别厉害。</li><li>本主题可以衍生一个 CSS 的框架，但是作者本人目前还是在给每个组件都弄一个单独的样式表。</li><li>本主题把各类资源文件都分门别类了，在以后添加内容方面应该还是较方便的。</li></ul><a id=\"more\"></a><h1 id=\"Hexo 根目录结构\"><a class=\"headerlink\" href=\"#Hexo 根目录结构\"></a>Hexo 根目录结构 </h1><p><strong> 注：主题文件可以下载 <a href=\"//github.com/jinyaoMa/ma-jinyao.cn\" target=\"_blank\" rel=\"noopener\"> 本站 </a> 所有源代码后，通过复制粘贴 <code>themes/mustom</code> 文件夹获得，或者下载 <a href=\"//github.com/jinyaoMa/hexo-theme-mustom\" target=\"_blank\" rel=\"noopener\">Mustom</a> 所有源代码获得 </strong><br><strong> 注：以下文件及文件夹都是使用 Mustom 主题必要的结构 </strong></p><p> 先来看看 <a href=\"//github.com/jinyaoMa/ma-jinyao.cn\" target=\"_blank\" rel=\"noopener\"> 本站 </a> 的根目录结构。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─scaffolds    : 模板 </span><br><span class=\"line\">├─source       : 内容资源文件夹</span><br><span class=\"line\">├─themes       : 下载的主题放这里</span><br><span class=\"line\">├─package.json : 里面可以看我都用了什么没有魔改过的 Hexo 插件</span><br><span class=\"line\">├─_config.yml  : 根配置文件</span><br></pre></td></tr></table></figure><p> 这就是一个普通 Hexo 建站的初始结构。这里主要讲下，<strong>使用我的 Mustom 主题时，可以使用 <code>scaffolds</code> 里我的模板，里面包含了必要的 front-matter 变量。可以复制粘贴整个 <code>scaffolds</code> 文件去覆盖原本的文件夹。推荐按照 <a href=\"//github.com/jinyaoMa/ma-jinyao.cn\" target=\"_blank\" rel=\"noopener\"> 本站 </a> 里的 <code>package.json</code> 来安装依赖，因为基本上安装的依赖都是用于优化和兼容。可以复制粘贴本站的 <code>package.json</code> 去替换原本的文件，之后运行命令 <code>npm i</code> 安装依赖。之后所有的例子默认都使用了我的模板和依赖之后的操作。</strong></p><h1 id=\"config-yml 根配置文件\"><a class=\"headerlink\" href=\"#config-yml 根配置文件\"></a>_config.yml 根配置文件 </h1><p><strong> 注：使用本主题的你可以在上面添加变量和修改变量的值，但是最好不要删除某一个变量，你可以留个空字符串 </strong><br><strong> 可以在复制粘贴以下配置之后，通过网站效果慢慢改 </strong></p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Hexo Configuration</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class=\"line\"><span class=\"comment\">## Source: https://github.com/hexojs/hexo/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">\"耀 の 个人网站 | Mark の Personal Website\"</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">\"耀の个人网站, 耀的个人网站, Mark の Personal Website, Mark's Personal Website, 耀的部落阁, 耀の部落阁, jinyaoMa, Mustom, Hexo\"</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">jinyaoMa</span> <span class=\"string\">(</span> <span class=\"string\"> 耀</span> <span class=\"string\">/</span> <span class=\"string\">Mark</span> <span class=\"string\">)</span></span><br><span class=\"line\"><span class=\"attr\">year:</span> <span class=\"number\">2019</span> <span class=\"comment\"># 建站年 </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># URL</span></span><br><span class=\"line\"><span class=\"comment\">## If your site is put in a subdirectory, set url as'http://yoursite.com/child'and root as'/child/'</span></span><br><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://ma-jinyao.cn</span></span><br><span class=\"line\"><span class=\"attr\">root:</span> <span class=\"string\">/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Directory</span></span><br><span class=\"line\"><span class=\"attr\">source_dir:</span> <span class=\"string\">source</span></span><br><span class=\"line\"><span class=\"attr\">public_dir:</span> <span class=\"string\">docs</span> <span class=\"comment\"># 方便使用 Github Page</span></span><br><span class=\"line\"><span class=\"attr\">tag_dir:</span> <span class=\"string\">tags</span></span><br><span class=\"line\"><span class=\"attr\">archive_dir:</span> <span class=\"string\">archives</span></span><br><span class=\"line\"><span class=\"attr\">category_dir:</span> <span class=\"string\">categories</span></span><br><span class=\"line\"><span class=\"attr\">code_dir:</span> <span class=\"string\">code</span> <span class=\"comment\"># markdown 使用 include_code 标签</span></span><br><span class=\"line\"><span class=\"attr\">skip_render:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"code/*.*\"</span> <span class=\"comment\"># 排除 code_dir</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"extension/**/*.html\"</span> <span class=\"comment\"># 排除 extension</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"*.html\"</span> <span class=\"comment\"># 如果在在主目录 source 文件夹里放了搜索引擎验证的.html 文件</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"CNAME\"</span> <span class=\"comment\"># 如果在在主目录 source 文件夹里放了 CNAME 文件</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Writing</span></span><br><span class=\"line\"><span class=\"attr\">new_post_name:</span> <span class=\"string\">:title.md</span> <span class=\"comment\"># File name of new posts</span></span><br><span class=\"line\"><span class=\"attr\">default_layout:</span> <span class=\"string\">post</span></span><br><span class=\"line\"><span class=\"attr\">titlecase:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Transform title into titlecase</span></span><br><span class=\"line\"><span class=\"attr\">external_link:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span> <span class=\"comment\"># Open external links in new tab</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">site</span> <span class=\"comment\"># Apply to the whole site</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"><span class=\"attr\">filename_case:</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">render_drafts:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">relative_link:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">future:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">highlight:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">line_number:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">auto_detect:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">tab_replace:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"attr\">wrap:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">hljs:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Date / Time format</span></span><br><span class=\"line\"><span class=\"comment\">## Hexo uses Moment.js to parse and display date</span></span><br><span class=\"line\"><span class=\"comment\">## You can customize the date format as defined in</span></span><br><span class=\"line\"><span class=\"comment\">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class=\"line\"><span class=\"attr\">date_format:</span> <span class=\"string\">YYYY-MM-DD</span></span><br><span class=\"line\"><span class=\"attr\">time_format:</span> <span class=\"string\">HH:mm:ss</span></span><br><span class=\"line\"><span class=\"comment\">## Use post's date for updated date unless set in front-matter</span></span><br><span class=\"line\"><span class=\"attr\">use_date_for_updated:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Extensions</span></span><br><span class=\"line\"><span class=\"comment\">## Plugins: https://hexo.io/plugins/</span></span><br><span class=\"line\"><span class=\"comment\">## Themes: https://hexo.io/themes/</span></span><br><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">mustom</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">baidu_url_submitter</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">all_minifier:</span> <span class=\"literal\">true</span> <span class=\"comment\"># 如果装了 hexo-all-minifier</span></span><br><span class=\"line\"><span class=\"attr\">markdown:</span> <span class=\"comment\"># 如果换了原装 hexo-renderer-marked, 用了 hexo-renderer-markdown-it</span></span><br><span class=\"line\">  <span class=\"attr\">render:</span></span><br><span class=\"line\">    <span class=\"attr\">html:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">xhtmlOut:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">breaks:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">linkify:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">typographer:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">quotes:</span> <span class=\"string\">'“”‘’'</span></span><br><span class=\"line\">  <span class=\"attr\">plugins:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">markdown-it-abbr</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">markdown-it-footnote</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">markdown-it-ins</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">markdown-it-sub</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">markdown-it-sup</span></span><br><span class=\"line\">  <span class=\"attr\">anchors:</span></span><br><span class=\"line\">    <span class=\"attr\">level:</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"attr\">collisionSuffix:</span> <span class=\"string\">'v'</span></span><br><span class=\"line\">    <span class=\"attr\">permalink:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">permalinkClass:</span> <span class=\"string\">headerlink</span></span><br><span class=\"line\">    <span class=\"attr\">permalinkSide:</span> <span class=\"string\">'left'</span></span><br><span class=\"line\">    <span class=\"attr\">permalinkSymbol:</span> <span class=\"string\">''</span></span><br><span class=\"line\"><span class=\"attr\">nofollow:</span> <span class=\"comment\"># 如果装了 hexo-filter-nofollow</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\"><span class=\"attr\">sitemap:</span> <span class=\"comment\"># 如果装了 hexo-generator-sitemap</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">sitemap.xml</span></span><br><span class=\"line\">  <span class=\"attr\">rel:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">autoprefixer:</span> <span class=\"comment\"># 如果装了 hexo-autoprefixer</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">\"*.min.css\"</span></span><br><span class=\"line\">  <span class=\"attr\">overrideBrowserslist:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">\"last 2 versions\"</span></span><br><span class=\"line\"><span class=\"attr\">babelify:</span> <span class=\"comment\"># 如果装了 hexo-renderer-babelify + @babel/preset-env</span></span><br><span class=\"line\">  <span class=\"attr\">presets:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">\"@babel/preset-env\"</span></span><br><span class=\"line\">  <span class=\"attr\">sourceMaps:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">mathjax:</span> <span class=\"comment\"># 如果装了 hexo-filter-mathjax</span></span><br><span class=\"line\">  <span class=\"attr\">tags:</span> <span class=\"string\">none</span> <span class=\"comment\"># or'ams'or'all'</span></span><br><span class=\"line\">  <span class=\"attr\">single_dollars:</span> <span class=\"literal\">true</span> <span class=\"comment\"># enable single dollar signs as in-line math delimiters</span></span><br><span class=\"line\">  <span class=\"attr\">cjk_width:</span> <span class=\"number\">0.9</span> <span class=\"comment\"># relative CJK char width</span></span><br><span class=\"line\">  <span class=\"attr\">normal_width:</span> <span class=\"number\">0.6</span> <span class=\"comment\"># relative normal (monospace) width</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">ignore:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"**/source/asset/js/common/*.js\"</span> <span class=\"comment\"># 如果装了 hexo-renderer-babelify</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"**/source/asset/js/part/*.js\"</span> <span class=\"comment\"># 如果装了 hexo-renderer-babelify</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">\"**/source/asset/js/plugin/!(L2Dwidget.0.min.js)\"</span> <span class=\"comment\"># 如果装了 hexo-renderer-babelify</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 百度主动推送</span></span><br><span class=\"line\"><span class=\"attr\">baidu_url_submit:</span></span><br><span class=\"line\">  <span class=\"attr\">count:</span> <span class=\"number\">1000</span> <span class=\"comment\"># 提交最新的一个链接</span></span><br><span class=\"line\">  <span class=\"attr\">host:</span> <span class=\"string\">ma-jinyao.cn</span> <span class=\"comment\"># 在百度站长平台中注册的域名</span></span><br><span class=\"line\">  <span class=\"attr\">token:</span> <span class=\"string\">\"\"</span> <span class=\"comment\"># 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">baidu_urls.txt</span> <span class=\"comment\"># 文本文档的地址， 新链接会保存在此文本文档里</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">baidu_translate:</span> <span class=\"comment\"># 用于划词翻译组件</span></span><br><span class=\"line\">  <span class=\"attr\">appid:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"attr\">appkey:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">valine:</span> <span class=\"comment\"># 用于评论组件</span></span><br><span class=\"line\">  <span class=\"attr\">appid:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\">  <span class=\"attr\">appkey:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 搜索引擎验证</span></span><br><span class=\"line\"><span class=\"attr\">google_site_verification:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"><span class=\"attr\">baidu_site_verification:</span> <span class=\"string\">\"\"</span></span><br></pre></td></tr></table></figure><h1 id=\"themes-mustom 目录结构\"><a class=\"headerlink\" href=\"#themes-mustom 目录结构\"></a>themes/mustom 目录结构</h1><p> 接下来看看 <a href=\"//github.com/jinyaoMa/ma-jinyao.cn/tree/master/themes/mustom\" target=\"_blank\" rel=\"noopener\">themes/mustom</a> 的目录结构。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─_config.yml : 主题配置文件，改菜单、改图标、改皮肤、改音乐 &#x2F; 一言组件配置、新增组件时涉及 </span><br><span class=\"line\">├─source : 主题资源文件夹</span><br><span class=\"line\">|   ├─browser.ejs : 不用 babelify 时旧浏览器会重定向到这个页面</span><br><span class=\"line\">|   ├─robots.txt</span><br><span class=\"line\">|   ├─sw.tpl : pwa 需要加载的 service worker 模板</span><br><span class=\"line\">|   ├─asset</span><br><span class=\"line\">|   |   ├─part : 所有组件模板文件放这</span><br><span class=\"line\">|   |   |  ├─audioplayer.ejs</span><br><span class=\"line\">|   |   |  ├─brand.ejs</span><br><span class=\"line\">|   |   |  ├─codelib.ejs</span><br><span class=\"line\">|   |   |  ├─comment.ejs</span><br><span class=\"line\">|   |   |  ├─extension.ejs</span><br><span class=\"line\">|   |   |  ├─footer.ejs</span><br><span class=\"line\">|   |   |  ├─gallery.ejs</span><br><span class=\"line\">|   |   |  ├─goingto.ejs</span><br><span class=\"line\">|   |   |  ├─hitokoto.ejs</span><br><span class=\"line\">|   |   |  ├─menus.ejs</span><br><span class=\"line\">|   |   |  ├─page.ejs</span><br><span class=\"line\">|   |   |  ├─panels.ejs</span><br><span class=\"line\">|   |   |  ├─pather.ejs</span><br><span class=\"line\">|   |   |  ├─post.ejs</span><br><span class=\"line\">|   |   |  ├─recentposts.ejs</span><br><span class=\"line\">|   |   |  ├─records.ejs</span><br><span class=\"line\">|   |   |  ├─search.ejs</span><br><span class=\"line\">|   |   |  ├─settings.ejs</span><br><span class=\"line\">|   |   |  ├─sitename.ejs</span><br><span class=\"line\">|   |   |  ├─skin.ejs</span><br><span class=\"line\">|   |   |  ├─timeline.ejs</span><br><span class=\"line\">|   |   |  ├─toc.ejs</span><br><span class=\"line\">|   |   |  ├─translater.ejs</span><br><span class=\"line\">|   |   |  ├─xaside.ejs</span><br><span class=\"line\">|   |   |  ├─xcanvas.ejs</span><br><span class=\"line\">|   |   |  ├─xdrawer.ejs</span><br><span class=\"line\">|   |   |  └xsearch.ejs</span><br><span class=\"line\">|   |   ├─live2d : Live2D 的文件放这</span><br><span class=\"line\">|   |   |   ├─haruto.model.json</span><br><span class=\"line\">|   |   |   ├─haruto.physics.json</span><br><span class=\"line\">|   |   |   ├─mtn</span><br><span class=\"line\">|   |   |   |  ├─01.mtn</span><br><span class=\"line\">|   |   |   |  ├─02.mtn</span><br><span class=\"line\">|   |   |   |  ├─03.mtn</span><br><span class=\"line\">|   |   |   |  ├─04.mtn</span><br><span class=\"line\">|   |   |   |  ├─05.mtn</span><br><span class=\"line\">|   |   |   |  ├─06.mtn</span><br><span class=\"line\">|   |   |   |  ├─07.mtn</span><br><span class=\"line\">|   |   |   |  ├─08.mtn</span><br><span class=\"line\">|   |   |   |  ├─09.mtn</span><br><span class=\"line\">|   |   |   |  └idle_02.mtn</span><br><span class=\"line\">|   |   |   ├─moc</span><br><span class=\"line\">|   |   |   |  ├─haruto.moc</span><br><span class=\"line\">|   |   |   |  ├─haruto.2048</span><br><span class=\"line\">|   |   |   |  |      └texture_00.png</span><br><span class=\"line\">|   |   ├─lang : 所有的语言界面资源文件放这</span><br><span class=\"line\">|   |   |  ├─en.yml : 英文</span><br><span class=\"line\">|   |   |  └zh-cn.yml : 中文</span><br><span class=\"line\">|   |   ├─js : 所有的 JS 资源文件放这</span><br><span class=\"line\">|   |   | ├─main.js : 管理所有资源的加载和程序</span><br><span class=\"line\">|   |   | ├─nomodule.js : 不使用 babelify 时用得到的旧浏览器重定向</span><br><span class=\"line\">|   |   | ├─plugin : 所有第三方 JS 插件模块</span><br><span class=\"line\">|   |   | |   ├─APlayer.min.js</span><br><span class=\"line\">|   |   | |   ├─av-min.js</span><br><span class=\"line\">|   |   | |   ├─evanyou.js</span><br><span class=\"line\">|   |   | |   ├─L2Dwidget.0.min.js</span><br><span class=\"line\">|   |   | |   ├─L2Dwidget.min.js</span><br><span class=\"line\">|   |   | |   ├─md5.min.js</span><br><span class=\"line\">|   |   | |   ├─Meting.min.js</span><br><span class=\"line\">|   |   | |   ├─socialShare.min.js</span><br><span class=\"line\">|   |   | |   └Valine.min.js</span><br><span class=\"line\">|   |   | ├─part : 所有组件加载必要的模块</span><br><span class=\"line\">|   |   | |  ├─audioplayer.js</span><br><span class=\"line\">|   |   | |  ├─brand.js</span><br><span class=\"line\">|   |   | |  ├─codelib.js</span><br><span class=\"line\">|   |   | |  ├─comment.js</span><br><span class=\"line\">|   |   | |  ├─extension.js</span><br><span class=\"line\">|   |   | |  ├─footer.js</span><br><span class=\"line\">|   |   | |  ├─gallery.js</span><br><span class=\"line\">|   |   | |  ├─goingto.js</span><br><span class=\"line\">|   |   | |  ├─hitokoto.js</span><br><span class=\"line\">|   |   | |  ├─menus.js</span><br><span class=\"line\">|   |   | |  ├─page.js</span><br><span class=\"line\">|   |   | |  ├─panels.js</span><br><span class=\"line\">|   |   | |  ├─pather.js</span><br><span class=\"line\">|   |   | |  ├─post.js</span><br><span class=\"line\">|   |   | |  ├─recentposts.js</span><br><span class=\"line\">|   |   | |  ├─records.js</span><br><span class=\"line\">|   |   | |  ├─search.js</span><br><span class=\"line\">|   |   | |  ├─settings.js</span><br><span class=\"line\">|   |   | |  ├─sitename.js</span><br><span class=\"line\">|   |   | |  ├─skin.js</span><br><span class=\"line\">|   |   | |  ├─timeline.js</span><br><span class=\"line\">|   |   | |  ├─toc.js</span><br><span class=\"line\">|   |   | |  ├─translater.js</span><br><span class=\"line\">|   |   | |  ├─xaside.js</span><br><span class=\"line\">|   |   | |  ├─xcanvas.js</span><br><span class=\"line\">|   |   | |  ├─xdrawer.js</span><br><span class=\"line\">|   |   | |  └xsearch.js</span><br><span class=\"line\">|   |   | ├─common : 包含所有通用 JS 函数</span><br><span class=\"line\">|   |   | |   ├─ajax.js</span><br><span class=\"line\">|   |   | |   ├─api.js</span><br><span class=\"line\">|   |   | |   ├─config.js</span><br><span class=\"line\">|   |   | |   ├─fetch.js</span><br><span class=\"line\">|   |   | |   ├─lang.js</span><br><span class=\"line\">|   |   | |   ├─part.js</span><br><span class=\"line\">|   |   | |   ├─storage.js</span><br><span class=\"line\">|   |   | |   └util.js</span><br><span class=\"line\">|   |   ├─img : 所有的固定图像资源文件放这</span><br><span class=\"line\">|   |   |  ├─android-chrome-192x192.png</span><br><span class=\"line\">|   |   |  ├─android-chrome-512x512.png</span><br><span class=\"line\">|   |   |  ├─author.large.png</span><br><span class=\"line\">|   |   |  ├─author.medium.png</span><br><span class=\"line\">|   |   |  ├─author.small.png</span><br><span class=\"line\">|   |   |  ├─by-nc-sa.svg</span><br><span class=\"line\">|   |   |  ├─icon.large.png</span><br><span class=\"line\">|   |   |  ├─icon.medium.png</span><br><span class=\"line\">|   |   |  ├─icon.small.png</span><br><span class=\"line\">|   |   |  ├─qf3cu.huaji.png</span><br><span class=\"line\">|   |   |  ├─qf3cu.jpg</span><br><span class=\"line\">|   |   |  ├─qf3cu.png</span><br><span class=\"line\">|   |   |  ├─qf3cu.temp.bw.png</span><br><span class=\"line\">|   |   |  ├─qf3cu.temp.png</span><br><span class=\"line\">|   |   |  ├─qq.png</span><br><span class=\"line\">|   |   |  ├─start.png</span><br><span class=\"line\">|   |   |  ├─start.reverse.png</span><br><span class=\"line\">|   |   |  └wechat.png</span><br><span class=\"line\">|   |   ├─font : 所有的字体文件放这</span><br><span class=\"line\">|   |   |  ├─fa-brands-400.eot</span><br><span class=\"line\">|   |   |  ├─fa-brands-400.svg</span><br><span class=\"line\">|   |   |  ├─fa-brands-400.ttf</span><br><span class=\"line\">|   |   |  ├─fa-brands-400.woff</span><br><span class=\"line\">|   |   |  ├─fa-brands-400.woff2</span><br><span class=\"line\">|   |   |  ├─fa-regular-400.eot</span><br><span class=\"line\">|   |   |  ├─fa-regular-400.svg</span><br><span class=\"line\">|   |   |  ├─fa-regular-400.ttf</span><br><span class=\"line\">|   |   |  ├─fa-regular-400.woff</span><br><span class=\"line\">|   |   |  ├─fa-regular-400.woff2</span><br><span class=\"line\">|   |   |  ├─fa-solid-900.eot</span><br><span class=\"line\">|   |   |  ├─fa-solid-900.svg</span><br><span class=\"line\">|   |   |  ├─fa-solid-900.ttf</span><br><span class=\"line\">|   |   |  ├─fa-solid-900.woff</span><br><span class=\"line\">|   |   |  ├─fa-solid-900.woff2</span><br><span class=\"line\">|   |   |  ├─iconfont.eot</span><br><span class=\"line\">|   |   |  ├─iconfont.svg</span><br><span class=\"line\">|   |   |  ├─iconfont.ttf</span><br><span class=\"line\">|   |   |  ├─iconfont.woff</span><br><span class=\"line\">|   |   |  └SourceHanSansCN.otf</span><br><span class=\"line\">|   |   ├─css : 所有的样式文件放这</span><br><span class=\"line\">|   |   |  ├─style.styl : 引用了所有的样式</span><br><span class=\"line\">|   |   |  ├─_plugin : 所有第三方样式插件</span><br><span class=\"line\">|   |   |  |    ├─APlayer.min.css</span><br><span class=\"line\">|   |   |  |    ├─fontawesome.min.css</span><br><span class=\"line\">|   |   |  |    ├─github-markdown.min.css</span><br><span class=\"line\">|   |   |  |    ├─highlight.styl</span><br><span class=\"line\">|   |   |  |    └share.min.css</span><br><span class=\"line\">|   |   |  ├─_part : 所有组件样式</span><br><span class=\"line\">|   |   |  |   ├─audioplayer.styl</span><br><span class=\"line\">|   |   |  |   ├─brand.styl</span><br><span class=\"line\">|   |   |  |   ├─codelib.styl</span><br><span class=\"line\">|   |   |  |   ├─comment.styl</span><br><span class=\"line\">|   |   |  |   ├─extension.styl</span><br><span class=\"line\">|   |   |  |   ├─footer.styl</span><br><span class=\"line\">|   |   |  |   ├─gallery.styl</span><br><span class=\"line\">|   |   |  |   ├─goingto.styl</span><br><span class=\"line\">|   |   |  |   ├─hitokoto.styl</span><br><span class=\"line\">|   |   |  |   ├─menus.styl</span><br><span class=\"line\">|   |   |  |   ├─page.styl</span><br><span class=\"line\">|   |   |  |   ├─panels.styl</span><br><span class=\"line\">|   |   |  |   ├─pather.styl</span><br><span class=\"line\">|   |   |  |   ├─post.styl</span><br><span class=\"line\">|   |   |  |   ├─recentposts.styl</span><br><span class=\"line\">|   |   |  |   ├─records.styl</span><br><span class=\"line\">|   |   |  |   ├─search.styl</span><br><span class=\"line\">|   |   |  |   ├─settings.styl</span><br><span class=\"line\">|   |   |  |   ├─sitename.styl</span><br><span class=\"line\">|   |   |  |   ├─skin.styl</span><br><span class=\"line\">|   |   |  |   ├─timeline.styl</span><br><span class=\"line\">|   |   |  |   ├─toc.styl</span><br><span class=\"line\">|   |   |  |   ├─translater.styl</span><br><span class=\"line\">|   |   |  |   ├─xaside.styl</span><br><span class=\"line\">|   |   |  |   ├─xcanvas.styl</span><br><span class=\"line\">|   |   |  |   ├─xdrawer.styl</span><br><span class=\"line\">|   |   |  |   └xsearch.styl</span><br><span class=\"line\">|   |   |  ├─_common : 包含所有页面的通用样式</span><br><span class=\"line\">|   |   |  |    ├─color.styl : 所有的受皮肤影响的颜色配置</span><br><span class=\"line\">|   |   |  |    ├─dimension.styl : 所有的固定距离、固定值等配置</span><br><span class=\"line\">|   |   |  |    └layout.styl : 所有页面通用样式，主要包含“m-”开头的主模板样式</span><br><span class=\"line\">├─scripts : 主题预处理脚本文件夹</span><br><span class=\"line\">|    ├─$filter.js</span><br><span class=\"line\">|    ├─$helper.js</span><br><span class=\"line\">|    ├─$renderer.js</span><br><span class=\"line\">|    ├─renderer</span><br><span class=\"line\">|    |    ├─$partplus.js</span><br><span class=\"line\">|    |    └$template.js</span><br><span class=\"line\">|    ├─plugin : 放改过的预处理时用到的第三方插件</span><br><span class=\"line\">|    |   ├─pangunode.js</span><br><span class=\"line\">|    |   ├─toc.js</span><br><span class=\"line\">|    |   ├─hexo-generator-restful</span><br><span class=\"line\">|    |   |           ├─index.js</span><br><span class=\"line\">|    |   |           ├─lib</span><br><span class=\"line\">|    |   |           |  └generator.js</span><br><span class=\"line\">|    |   ├─hexo-abbrlink</span><br><span class=\"line\">|    |   |       ├─index.js</span><br><span class=\"line\">|    |   |       ├─lib</span><br><span class=\"line\">|    |   |       |  ├─crc16.js</span><br><span class=\"line\">|    |   |       |  ├─crc32.js</span><br><span class=\"line\">|    |   |       |  ├─logic.js</span><br><span class=\"line\">|    |   |       |  └model.js</span><br><span class=\"line\">|    ├─helper : 放预处理渲染生成期间用到的函数</span><br><span class=\"line\">|    |   ├─$count.js</span><br><span class=\"line\">|    |   ├─$css.js</span><br><span class=\"line\">|    |   ├─$encode.js</span><br><span class=\"line\">|    |   ├─$forIn.js</span><br><span class=\"line\">|    |   ├─$gallery.js</span><br><span class=\"line\">|    |   ├─$js.js</span><br><span class=\"line\">|    |   ├─$min2read.js</span><br><span class=\"line\">|    |   ├─$mjs.js</span><br><span class=\"line\">|    |   ├─$nomjs.js</span><br><span class=\"line\">|    |   ├─$word4post.js</span><br><span class=\"line\">|    |   └$word4site.js</span><br><span class=\"line\">├─layout : 主题预处理页面模板文件夹</span><br><span class=\"line\">|   ├─archive.ejs : 管理所有归档页面头部涉及的数据</span><br><span class=\"line\">|   ├─index.ejs : 管理首页面头部涉及的数据</span><br><span class=\"line\">|   ├─page.ejs : 管理所有单独页面头部涉及的数据</span><br><span class=\"line\">|   ├─post.ejs : 管理所有文章页面头部涉及的数据</span><br><span class=\"line\">|   ├─_partial</span><br><span class=\"line\">|   |    └frame.ejs : 网页模板，增减改组件和修改头部模板时涉及</span><br></pre></td></tr></table></figure><h2 id=\"普通使用主题时涉及的文件及文件夹\"><a class=\"headerlink\" href=\"# 普通使用主题时涉及的文件及文件夹\"></a> 普通使用主题时涉及的文件及文件夹 </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─_config.yml : 主题配置文件，改菜单、改图标、改皮肤、改音乐 &#x2F; 一言组件配置、新增组件时涉及</span><br><span class=\"line\">├─source : 主题资源文件夹</span><br><span class=\"line\">|   ├─asset</span><br><span class=\"line\">|   |   ├─part : 所有组件模板文件放这</span><br><span class=\"line\">|   |   ├─lang : 所有的语言界面资源文件放这</span><br><span class=\"line\">|   |   |  ├─en.yml : 英文</span><br><span class=\"line\">|   |   |  └zh-cn.yml : 中文</span><br><span class=\"line\">|   |   ├─js : 所有的 JS 资源文件放这</span><br><span class=\"line\">|   |   | ├─main.js : 管理所有资源的加载和程序</span><br><span class=\"line\">|   |   | ├─part : 所有组件加载必要的模块</span><br><span class=\"line\">|   |   ├─css : 所有的样式文件放这</span><br><span class=\"line\">|   |   |  ├─style.styl : 引用了所有的样式</span><br><span class=\"line\">|   |   |  ├─_part : 所有组件样式</span><br><span class=\"line\">├─layout : 主题预处理页面模板文件夹</span><br><span class=\"line\">|   ├─_partial</span><br><span class=\"line\">|   |    └frame.ejs : 网页模板，增减改组件和修改头部模板时涉及</span><br></pre></td></tr></table></figure><h1 id=\"source 目录结构\"><a class=\"headerlink\" href=\"#source 目录结构\"></a>source 目录结构</h1><p> 再来看看 <a href=\"//github.com/jinyaoMa/ma-jinyao.cn/tree/master/source\" target=\"_blank\" rel=\"noopener\">source</a> 的目录结构。</p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─CNAME : 锁定 github pages 域名定向 </span><br><span class=\"line\">├─_posts : 所有的文章</span><br><span class=\"line\">|   ├─Gallery-Post-Not-Supported.md</span><br><span class=\"line\">|   ├─Hello-Hexo.md</span><br><span class=\"line\">|   ├─Helpful-Links.md</span><br><span class=\"line\">|   ├─HTTP 是什么？.md</span><br><span class=\"line\">|   ├─Markdown-Basic-Syntax.md</span><br><span class=\"line\">|   ├─Oracle-SQL-Basic-Usage.md</span><br><span class=\"line\">|   ├─TCP-IP 是什么？.md</span><br><span class=\"line\">|   ├─主题 hexo-theme-mustom 使用指南.md</span><br><span class=\"line\">|   ├─旧版日记仿 markdown 编译代码.md</span><br><span class=\"line\">|   ├─测试区 2048JS 代码.md</span><br><span class=\"line\">|   └网易云音乐歌单 JS 音乐播放器 JS 代码.md</span><br><span class=\"line\">├─resume : 这是个“简历小贴士”单页面</span><br><span class=\"line\">|   └index.md</span><br><span class=\"line\">├─records : 这是个“记录”单页面</span><br><span class=\"line\">|    ├─content.yml : 记录组件加载时从这里读取数据</span><br><span class=\"line\">|    └index.md</span><br><span class=\"line\">├─library : 这是个“代码库”单页面</span><br><span class=\"line\">|    └index.md</span><br><span class=\"line\">├─letter : 这是个“求职信小贴士”单页面</span><br><span class=\"line\">|   └index.md</span><br><span class=\"line\">├─gallery : 这是个“图库”单页面</span><br><span class=\"line\">|    ├─FaceQ1583444636773.png</span><br><span class=\"line\">|    ├─http-request-example.jpg</span><br><span class=\"line\">|    ├─http-request-format.png</span><br><span class=\"line\">|    ├─http-response-example.jpg</span><br><span class=\"line\">|    ├─http-response-format.png</span><br><span class=\"line\">|    ├─index.md</span><br><span class=\"line\">|    ├─tcp-ip-ipv6-prefix.jpg</span><br><span class=\"line\">|    ├─tcp-ip-router-network.jpg</span><br><span class=\"line\">|    ├─tcp-ip-router-subnet.jpg</span><br><span class=\"line\">|    ├─wallpaper-2311325.jpg</span><br><span class=\"line\">|    ├─wallpaper-2572384.jpg</span><br><span class=\"line\">|    ├─wallpaper-878514.jpg</span><br><span class=\"line\">|    ├─yao2048-0.jpg</span><br><span class=\"line\">|    └yaoplayer-0.jpg</span><br><span class=\"line\">├─extension : 这个是本站左下角的扩展功能</span><br><span class=\"line\">|     ├─content.yml : 扩展组件加载时从这里读取数据</span><br><span class=\"line\">|     ├─test : “测试”扩展</span><br><span class=\"line\">|     ├─resume : “简历生成”扩展</span><br><span class=\"line\">|     ├─palette : “图像颜色提取”扩展</span><br><span class=\"line\">|     ├─letter : “求职信”扩展</span><br><span class=\"line\">├─code : 所有使用 Hexo 标签“include_code”的代码文件都放这</span><br><span class=\"line\">├─about : 这是个“关于”单页面</span><br><span class=\"line\">|   └index.md</span><br></pre></td></tr></table></figure><h1 id=\"新建单页面例子\"><a class=\"headerlink\" href=\"# 新建单页面例子\"></a> 新建单页面例子 </h1><p><strong> 注：需要我的 scaffolds/page.md 模板为前提 </strong></p><p> 假如我要新建一个“友链”单页面，我需要运行新建命令：</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page <span class=\"string\">\"links\"</span></span><br></pre></td></tr></table></figure><p>运行命令后得到以下新目录结构 </p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─_posts</span><br><span class=\"line\">├─resume</span><br><span class=\"line\">├─records</span><br><span class=\"line\">├─links : 新“友链”单页面</span><br><span class=\"line\">|   └index.md : 模板生成的 index.md</span><br><span class=\"line\">├─library</span><br><span class=\"line\">├─letter</span><br><span class=\"line\">├─gallery</span><br><span class=\"line\">├─extension</span><br><span class=\"line\">├─code</span><br><span class=\"line\">├─about</span><br></pre></td></tr></table></figure><p> 如何修改 <code>links/index.md</code> 可以参考 <a href=\"//raw.githubusercontent.com/jinyaoMa/ma-jinyao.cn/master/source/about/index.md\" target=\"_blank\" rel=\"noopener\">about/index.md</a></p><h2 id=\"添加菜单项目\"><a class=\"headerlink\" href=\"# 添加菜单项目\"></a> 添加菜单项目 </h2><p> 在主题配置 <code>_config.yml</code> 中，按格式新增 <code>menus</code> 下的项目 </p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menus:</span></span><br><span class=\"line\">  <span class=\"attr\">main:</span> <span class=\"comment\"># 项目组</span></span><br><span class=\"line\">    <span class=\"attr\">home:</span> <span class=\"comment\"># 项目</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/</span> <span class=\"comment\"># 项目链接</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">'&lt;i class=\"fas fa-home fa-fw\"&gt;&lt;/i&gt;'</span> <span class=\"comment\"># 项目图标</span></span><br><span class=\"line\">    <span class=\"attr\">archive:</span> <span class=\"comment\"># 项目</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/archives/</span> <span class=\"comment\"># 项目链接</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">'&lt;i class=\"fas fa-archive fa-fw\"&gt;&lt;/i&gt;'</span> <span class=\"comment\"># 项目图标</span></span><br><span class=\"line\">    <span class=\"attr\">about:</span> <span class=\"comment\"># 项目</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/about/</span> <span class=\"comment\"># 项目链接</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">'&lt;i class=\"fas fa-user fa-fw\"&gt;&lt;/i&gt;'</span> <span class=\"comment\"># 项目图标</span></span><br><span class=\"line\">    <span class=\"attr\">links:</span> <span class=\"comment\"># 新项目 &lt;----------------------------------------------------</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">/links/</span>  <span class=\"comment\"># 新项目链接 &lt;----------------------------------------</span></span><br><span class=\"line\">      <span class=\"attr\">icon:</span> <span class=\"string\">'&lt;i class=\"fas fa-link fa-fw\"&gt;&lt;/i&gt;'</span> <span class=\"comment\"># 新项目图标 &lt;------------</span></span><br></pre></td></tr></table></figure><p> 接下来，在主题 <code>source/asset/lang</code> 文件夹中的 <code>.yml</code> 语言文件新增 <code>menus</code> 下的项目 </p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menus:</span></span><br><span class=\"line\">  <span class=\"attr\">main:</span> <span class=\"comment\"># 对应_config.yml 中的项目组</span></span><br><span class=\"line\">    <span class=\"attr\">caption:</span> <span class=\"string\"> 本站 </span> <span class=\"comment\"># 项目组名称</span></span><br><span class=\"line\">    <span class=\"attr\">items:</span> <span class=\"comment\"># 对应_config.yml 中的项目</span></span><br><span class=\"line\">      <span class=\"attr\">home:</span> <span class=\"string\"> 首页 </span> <span class=\"comment\"># 项目名称</span></span><br><span class=\"line\">      <span class=\"attr\">archive:</span> <span class=\"string\"> 归档 </span> <span class=\"comment\"># 项目名称</span></span><br><span class=\"line\">      <span class=\"attr\">about:</span> <span class=\"string\"> 关于 </span> <span class=\"comment\"># 项目名称</span></span><br><span class=\"line\">      <span class=\"attr\">links:</span> <span class=\"string\"> 友链 </span> <span class=\"comment\"># 新项目名称 &lt;-----------------------------------------</span></span><br></pre></td></tr></table></figure><h1 id=\"新建文章例子\"><a class=\"headerlink\" href=\"# 新建文章例子\"></a> 新建文章例子 </h1><p><strong> 注：需要我的 scaffolds/post.md 模板为前提 </strong></p><p> 假如我要新建一个“HTTP 是什么？”文章，我需要运行新建命令：</p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"HTTP 是什么？\"</span></span><br></pre></td></tr></table></figure><p>运行命令后得到以下新目录结构 </p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─_posts</span><br><span class=\"line\">|   └HTTP 是什么？.md : 新“HTTP 是什么？”文章</span><br><span class=\"line\">├─resume</span><br><span class=\"line\">├─records</span><br><span class=\"line\">├─links</span><br><span class=\"line\">├─library</span><br><span class=\"line\">├─letter</span><br><span class=\"line\">├─gallery</span><br><span class=\"line\">├─extension</span><br><span class=\"line\">├─code</span><br><span class=\"line\">├─about</span><br></pre></td></tr></table></figure><p> 打开 <code>HTTP 是什么？.md</code>，可以看到 front-matter 中没有 abbrlink，没有关系，这是自动生成。<strong> 如果文章里使用了 MathJax，需要设置 <code>mathjax: true</code>。</strong></p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">HTTP 是什么？</span></span><br><span class=\"line\"><span class=\"attr\">categories:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"bullet\">-</span> <span class=\"literal\">null</span> <span class=\"comment\"># 分类设置</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"literal\">null</span> <span class=\"comment\"># 标签设置</span></span><br><span class=\"line\"><span class=\"attr\">mathjax:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2020</span><span class=\"number\">-04</span><span class=\"number\">-10</span> <span class=\"number\">14</span><span class=\"string\">:15:34</span></span><br><span class=\"line\"><span class=\"attr\">updated:</span> <span class=\"number\">2020</span><span class=\"number\">-04</span><span class=\"number\">-10</span> <span class=\"number\">14</span><span class=\"string\">:15:34</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure><h1 id=\"添加组件例子\"><a class=\"headerlink\" href=\"# 添加组件例子\"></a> 添加组件例子 </h1><p> 假如我要在“友链”单页面里添加一个像 &quot; 记录 &quot; 单页面下的记录组件，命名为 <code>links</code> 组件：</p><p><strong>首先，在 Hexo 根目录下 <code>source/links</code> 文件夹建立一个 <code>content.yml</code> 用以记录友链，里面的内容可以是这样的：</strong></p><figure class=\"highlight yml\"><figcaption><span>source/links/content.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 友链模板 </span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">jinyaoMa</span></span><br><span class=\"line\">  <span class=\"attr\">site:</span> <span class=\"string\">//ma-jinyao.cn</span></span><br><span class=\"line\">  <span class=\"attr\">avatar:</span> <span class=\"string\">//ma-jinyao.cn/asset/img/author.medium.png</span></span><br><span class=\"line\"><span class=\"comment\"># 其他友链</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Test</span></span><br><span class=\"line\">  <span class=\"attr\">site:</span> <span class=\"string\">//baidu.com</span></span><br><span class=\"line\">  <span class=\"attr\">avatar:</span> <span class=\"string\">\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ... 以此类推</span></span><br></pre></td></tr></table></figure><p><strong> 然后，在主题目录 <code>themes/mustom</code> 新建和修改以下必要的文件：</strong></p><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├─_config.yml : 添加需要的图标 </span><br><span class=\"line\">├─source</span><br><span class=\"line\">|   ├─asset</span><br><span class=\"line\">|   |   ├─part</span><br><span class=\"line\">|   |   |  └links.ejs : 必要“组件模板”</span><br><span class=\"line\">|   |   ├─lang</span><br><span class=\"line\">|   |   |  ├─en.yml : 添加需要的英文文本</span><br><span class=\"line\">|   |   |  └zh-cn.yml : 添加需要的中文文本</span><br><span class=\"line\">|   |   ├─js</span><br><span class=\"line\">|   |   | ├─part</span><br><span class=\"line\">|   |   | |  └links.js : 必要“JS 加载模块”</span><br><span class=\"line\">|   |   ├─css</span><br><span class=\"line\">|   |   |  ├─_part</span><br><span class=\"line\">|   |   |  |   └links.styl : 必要“组件样式”</span><br></pre></td></tr></table></figure><p><code>links.ejs</code>：可以参照<a href=\"//raw.githubusercontent.com/jinyaoMa/ma-jinyao.cn/master/themes/mustom/source/asset/part/records.ejs\"target=\"_blank\"rel=\"noopener\">asset/part/records.ejs</a> 组件模板，刚开始可以只有以下部分：</p><figure class=\"highlight html\"><figcaption><span>asset/part/links.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"p-links\"</span>&gt;</span><span class=\"comment\">&lt;!-- 注意类名 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"p-links-caption\"</span>&gt;</span><span class=\"comment\">&lt;!-- 窗口标题部分 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">%-</span> <span class=\"attr\">theme.links.icon</span> %&gt;</span><span class=\"comment\">&lt;!-- 窗口标题图标 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">data-lang</span>=<span class=\"string\">\"links.caption\"</span>&gt;</span><span class=\"comment\">&lt;!-- 加载语言文件中 links.caption 的字符串 --&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 <code>_config.yml</code> 中添加以下代码：</p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">links:</span></span><br><span class=\"line\">  <span class=\"attr\">icon:</span> <span class=\"string\">'&lt;i class=\"fas fa-link fa-fw\"&gt;&lt;/i&gt;'</span></span><br></pre></td></tr></table></figure><p>在 <code>en.yml</code> 和<code>zh-cn.yml</code>中添加以下代码：</p><figure class=\"highlight yml\"><figcaption><span>en.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">links:</span></span><br><span class=\"line\">  <span class=\"attr\">caption:</span> <span class=\"string\">LINKS</span></span><br></pre></td></tr></table></figure><figure class=\"highlight yml\"><figcaption><span>zh-cn.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">links:</span></span><br><span class=\"line\">  <span class=\"attr\">caption:</span> <span class=\"string\">友链 </span></span><br></pre></td></tr></table></figure><p><code>links.js</code>：可以参照<a href=\"//raw.githubusercontent.com/jinyaoMa/ma-jinyao.cn/master/themes/mustom/source/asset/js/part/records.js\"target=\"_blank\"rel=\"noopener\">asset/js/part/records.js</a> 加载模块，刚开始可以只有以下部分：</p><figure class=\"highlight js\"><figcaption><span>asset/js/part/links.js</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> part <span class=\"keyword\">from</span> <span class=\"string\">\"../common/part.js\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> tag = <span class=\"string\">'links'</span>; <span class=\"comment\">// 注意标签名 </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> element = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> init = <span class=\"function\">(<span class=\"params\">params, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  part(tag, el =&gt; &#123;</span><br><span class=\"line\">    element = el;</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.querySelector(tag).replaceWith(element);</span><br><span class=\"line\">    callback &amp;&amp; callback(element);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  tag,</span><br><span class=\"line\">  init</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure><p><code>links.styl</code>：可以参照<a href=\"//raw.githubusercontent.com/jinyaoMa/ma-jinyao.cn/master/themes/mustom/source/asset/css/_part/records.styl\"target=\"_blank\"rel=\"noopener\">asset/css/_part/records.styl</a> 组件样式，刚开始可以什么样式都没有。</p><p><strong>完成必要文件的新建之后，就要把这个组件加载到页面上，需要修改一下文件：</strong></p><p>在 Hexo 根目录 <code>source/links/index.md</code> 里面的 front-matter 中标记这个组件。</p><figure class=\"highlight yml\"><figcaption><span>source/links/index.md</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">links</span></span><br><span class=\"line\"><span class=\"attr\">layout:</span> <span class=\"string\">page</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">links</span></span><br><span class=\"line\"><span class=\"attr\">parts:</span> </span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">page</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">links</span> <span class=\"comment\"># 标记组件 </span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure><p> 在<code>themes/mustom</code>主题目录中 <code>source/asset/css/style.styl</code> 引用 <code>links.styl</code>。</p><figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 文件末尾添加</span></span><br><span class=\"line\">@import <span class=\"string\">'_part/links'</span></span><br></pre></td></tr></table></figure><p> 在<code>themes/mustom</code>主题目录中 <code>source/asset/js/main.js</code> 对号插入以下代码：</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 头部所有 import 下面 </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> links <span class=\"keyword\">from</span> <span class=\"string\">'./part/links.js'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* Ctrl+F 查找 “Extra Operations”，在“Extra Operations”下添加代码加载组件到“links”单页面 */</span></span><br><span class=\"line\"><span class=\"comment\">// Extra Operations</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"regexp\">/^\\/(links)\\//</span>.test(pathname())) &#123;</span><br><span class=\"line\">  ajax(&#123;</span><br><span class=\"line\">    url: <span class=\"string\">`/links/content.json`</span>, <span class=\"comment\">// content.yml 预编译成的 JSON 文件，友链的记录文件</span></span><br><span class=\"line\">    method: <span class=\"string\">'get'</span>,</span><br><span class=\"line\">    dataType: <span class=\"string\">'json'</span>,</span><br><span class=\"line\">    success(data) &#123;</span><br><span class=\"line\">      parts.includes(<span class=\"string\">'links'</span>) &amp;&amp; links.init(&#123;</span><br><span class=\"line\">        data</span><br><span class=\"line\">      &#125;, el =&gt; &#123;</span><br><span class=\"line\">        checklist.links = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        progress.step(stepping);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p> 在<code>themes/mustom</code>主题目录中 <code>layout/_partial/frame.ejs</code> 中<code>div.m-content</code>插入组件标签 <code>&lt;links&gt;&lt;/links&gt;</code>。</p><p><strong> 通过以上步骤就能把组件添加到单页面“友链”中 </strong></p><h1 id=\" 删除单页面组件 \"><a class=\"headerlink\"href=\"# 删除单页面组件 \"></a> 删除单页面组件 </h1><p> 想要停用某个单页面组件只要在单页面所属 <code>source/YourPage/index.md</code> 里面的 front-matter 中注释掉组件标记即可，例如：</p><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">links</span></span><br><span class=\"line\"><span class=\"attr\">layout:</span> <span class=\"string\">page</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">links</span></span><br><span class=\"line\"><span class=\"attr\">parts:</span> </span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">page</span></span><br><span class=\"line\">  <span class=\"comment\"># - links # 注释掉组件标记 </span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure><p><strong><em> 我这个主题所用技术都是比较野生和混杂，不懂可以 Github Issue 我，也可以百度。自己研究一下熟悉之后就简单了，因为来来去去也就几个地方，只是代码分得较细，改动过程鼠标可能比较累。</em></strong></p>","url":"/posts/49651/","min2read":17,"word4post":"3.9k","prev_post":{"title":"数据结构之基础","url":"/posts/46208/"},"next_post":{"title":"HTTP 是什么？","url":"/posts/8716/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Hexo 根目录结构\" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">Hexo 根目录结构 </span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"config-yml 根配置文件\" href = \"#\"><span class=\"toc-number\">2.</span> <span class=\"toc-text\">_config.yml 根配置文件 </span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"themes-mustom 目录结构\" href = \"#\"><span class=\"toc-number\">3.</span> <span class=\"toc-text\">themes&#x2F;mustom 目录结构</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"普通使用主题时涉及的文件及文件夹\" href = \"#\"><span class=\"toc-number\">3.1.</span> <span class=\"toc-text\"> 普通使用主题时涉及的文件及文件夹 </span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"source 目录结构\" href = \"#\"><span class=\"toc-number\">4.</span> <span class=\"toc-text\">source 目录结构</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"新建单页面例子\" href = \"#\"><span class=\"toc-number\">5.</span> <span class=\"toc-text\"> 新建单页面例子 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"添加菜单项目\" href = \"#\"><span class=\"toc-number\">5.1.</span> <span class=\"toc-text\"> 添加菜单项目 </span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"新建文章例子\" href = \"#\"><span class=\"toc-number\">6.</span> <span class=\"toc-text\"> 新建文章例子 </span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"添加组件例子\" href = \"#\"><span class=\"toc-number\">7.</span> <span class=\"toc-text\"> 添加组件例子 </span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\" 删除单页面组件 \" href = \"#\"><span class=\"toc-number\">8.</span> <span class=\"toc-text\"> 删除单页面组件 </span></a></li></ol>","categories":[{"name":"Hexo","path":"api/categories/Hexo.json","url":"/categories/Hexo/"}],"tags":[{"name":"Mustom","path":"api/tags/Mustom.json","url":"/tags/Mustom/"}]}